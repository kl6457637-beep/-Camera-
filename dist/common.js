"use strict";(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[76],{9981:function(e,n,t){t.d(n,{A:function(){return p}});var s=t(436),a=t(5544),r=t(6540),c=t(758),i=t.n(c),o=t(118),l=t(9584),u=t(3439),d=t(4848),m=["\u4e2a\u4eba\u5199\u771f","\u60c5\u4fa3\u7167","\u6bd5\u4e1a\u7167","\u95fa\u871c\u7167","\u4eb2\u5b50\u7167","\u5546\u4e1a\u62cd\u6444","\u5176\u4ed6"],f=[{value:"morning",label:"\u4e0a\u5348 (9:00-12:00)"},{value:"afternoon",label:"\u4e0b\u5348 (14:00-17:00)"},{value:"evening",label:"\u508d\u665a (17:00-19:00)"},{value:"night",label:"\u665a\u4e0a (19:00-21:00)"}],h=[{id:"all",name:"\u6240\u6709\u4f5c\u54c1"},{id:"favorites",name:"\u5fc3\u52a8\u7684\u4f5c\u54c1"}];function p(e){var n,t=e.visible,c=e.onClose,p=e.onSubmit,g=e.initialWorkId,x=(0,r.useState)(""),v=(0,a.A)(x,2),N=v[0],j=v[1],A=(0,r.useState)(""),E=(0,a.A)(A,2),k=E[0],b=E[1],S=(0,r.useState)(""),w=(0,a.A)(S,2),y=w[0],C=w[1],Y=(0,r.useState)(""),F=(0,a.A)(Y,2),I=F[0],O=F[1],R=(0,r.useState)(""),T=(0,a.A)(R,2),P=T[0],M=T[1],_=(0,r.useState)(""),D=(0,a.A)(_,2),L=D[0],B=D[1],W=(0,r.useState)(""),G=(0,a.A)(W,2),H=G[0],V=G[1],U=(0,r.useState)("all"),q=(0,a.A)(U,2),J=q[0],K=q[1],Q=(0,r.useState)([]),X=(0,a.A)(Q,2),Z=X[0],z=X[1],$=(0,r.useState)([]),ee=(0,a.A)($,2),ne=ee[0],te=ee[1],se=(0,r.useState)([]),ae=(0,a.A)(se,2),re=ae[0],ce=ae[1],ie=(0,r.useState)(!1),oe=(0,a.A)(ie,2),le=oe[0],ue=oe[1];(0,r.useEffect)(function(){t&&de()},[t]),(0,r.useEffect)(function(){g&&t&&ce([g])},[g,t]);var de=function(){try{var e=me();z(e);var n=i().getStorageSync("user_favorites")||[];te(n)}catch(e){console.error("\u52a0\u8f7d\u6570\u636e\u5931\u8d25",e)}},me=function(){return[{id:"1",title:"\u6668\u5149\u5c11\u5973",images:["https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=200"],style:"\u6e05\u65b0"},{id:"2",title:"\u590d\u53e4\u65f6\u5149",images:["https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=200"],style:"\u590d\u53e4"},{id:"3",title:"\u7a97\u8fb9\u601d\u7eea",images:["https://images.unsplash.com/photo-1517841905240-472988babdf9?w=200"],style:"\u60c5\u7eea"},{id:"4",title:"\u6e29\u67d4\u5348\u540e",images:["https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200"],style:"\u6e05\u65b0"},{id:"5",title:"\u90fd\u5e02\u4e3d\u5f71",images:["https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=200"],style:"\u65f6\u5c1a"},{id:"6",title:"\u8857\u5934\u6f2b\u6b65",images:["https://images.unsplash.com/photo-1502823403499-6ccfcf4fb453?w=200"],style:"\u8857\u62cd"}]},fe=function(){return"favorites"===J?Z.filter(function(e){return ne.includes(e.id)}):Z},he=function(e){ce(function(n){return n.includes(e)?n.filter(function(n){return n!==e}):[].concat((0,s.A)(n),[e])})},pe=function(){return re.map(function(e){var n;return null===(n=Z.find(function(n){return n.id===e}))||void 0===n?void 0:n.title}).filter(Boolean).join("\u3001")},ge=function(){var e;if(0!==re.length)if(N)if(k&&y)if(H){var n={type:N,date:k,time:(null===(e=f.find(function(e){return e.value===y}))||void 0===e?void 0:e.label)||"",location:I,style:P,notes:L,phone:H,selectedWorks:re};p(n),xe()}else i().showToast({title:"\u8bf7\u8f93\u5165\u8054\u7cfb\u7535\u8bdd",icon:"none"});else i().showToast({title:"\u8bf7\u9009\u62e9\u62cd\u6444\u65f6\u95f4",icon:"none"});else i().showToast({title:"\u8bf7\u9009\u62e9\u62cd\u6444\u7c7b\u578b",icon:"none"});else i().showToast({title:"\u8bf7\u9009\u62e9\u62cd\u6444\u610f\u5411",icon:"none"})},xe=function(){j(""),b(""),C(""),O(""),M(""),B(""),V(""),ce([]),K("all"),ue(!1)},ve=function(){xe(),c()},Ne=function(){var e=new Date,n=e.getFullYear(),t=e.getMonth()+1,s=e.getDate();return"".concat(n,"-").concat(t.toString().padStart(2,"0"),"-").concat(s.toString().padStart(2,"0"))};return(0,d.jsxs)(l.A,{visible:t,onClose:ve,title:"\u53d1\u8d77\u9884\u7ea6",footer:(0,d.jsx)(o.Ss,{className:"modal-btn primary",onClick:ge,children:(0,d.jsx)(o.EY,{className:"btn-text",children:"\u53d1\u9001\u9884\u7ea6"})}),children:[(0,d.jsxs)(o.Ss,{className:"photographer-preview",children:[(0,d.jsx)(o._V,{className:"preview-avatar",src:u.kR.avatar,mode:"aspectFill"}),(0,d.jsxs)(o.Ss,{className:"preview-info",children:[(0,d.jsx)(o.EY,{className:"preview-name",children:u.kR.name}),(0,d.jsx)(o.EY,{className:"preview-style",children:"\u64c5\u957f\uff1a\u590d\u53e4\u80f6\u7247\u3001\u65e5\u7cfb\u6e05\u65b0"})]})]}),(0,d.jsxs)(o.Ss,{className:"form-group",children:[(0,d.jsxs)(o.EY,{className:"form-label",children:["\u62cd\u6444\u610f\u5411 ",(0,d.jsx)(o.EY,{className:"required",children:"*"})]}),(0,d.jsx)(o.Ss,{className:"intent-filter",children:h.map(function(e){return(0,d.jsx)(o.Ss,{className:"filter-option ".concat(J===e.id?"selected":""),onClick:function(){return K(e.id)},children:(0,d.jsx)(o.EY,{className:"filter-text",children:e.name})},e.id)})}),(0,d.jsxs)(o.Ss,{className:"selected-works-box",onClick:function(){return ue(!le)},children:[(0,d.jsxs)(o.Ss,{className:"selected-works-header",children:[(0,d.jsx)(o.EY,{className:"selected-label",children:re.length>0?"\u5df2\u9009 ".concat(re.length," \u4e2a\u4f5c\u54c1"):"\u70b9\u51fb\u9009\u62e9\u4f5c\u54c1"}),(0,d.jsx)(o.EY,{className:"selected-arrow",children:le?"\u25b2":"\u25bc"})]}),re.length>0&&(0,d.jsx)(o.EY,{className:"selected-names",children:pe()})]}),le&&(0,d.jsx)(o.Ss,{className:"works-selector",children:(0,d.jsx)(o.BM,{scrollY:!0,className:"works-scroll",children:fe().map(function(e){return(0,d.jsxs)(o.Ss,{className:"work-item ".concat(re.includes(e.id)?"selected":""),onClick:function(){return he(e.id)},children:[(0,d.jsx)(o._V,{className:"work-thumb",src:e.images[0],mode:"aspectFill"}),(0,d.jsxs)(o.Ss,{className:"work-info",children:[(0,d.jsx)(o.EY,{className:"work-title",children:e.title}),(0,d.jsxs)(o.EY,{className:"work-style",children:["#",e.style]})]}),(0,d.jsx)(o.Ss,{className:"work-check",children:re.includes(e.id)&&(0,d.jsx)(o.EY,{className:"check-icon",children:"\u2713"})})]},e.id)})})})]}),(0,d.jsxs)(o.Ss,{className:"form-group",children:[(0,d.jsxs)(o.EY,{className:"form-label",children:["\u62cd\u6444\u7c7b\u578b ",(0,d.jsx)(o.EY,{className:"required",children:"*"})]}),(0,d.jsx)(o.Ss,{className:"type-options",children:m.map(function(e){return(0,d.jsx)(o.Ss,{className:"type-option ".concat(N===e?"selected":""),onClick:function(){return j(e)},children:(0,d.jsx)(o.EY,{className:"type-text",children:e})},e)})})]}),(0,d.jsxs)(o.Ss,{className:"form-group",children:[(0,d.jsxs)(o.EY,{className:"form-label",children:["\u671f\u671b\u62cd\u6444\u65f6\u95f4 ",(0,d.jsx)(o.EY,{className:"required",children:"*"})]}),(0,d.jsxs)(o.Ss,{className:"date-time-picker",children:[(0,d.jsxs)(o.Ss,{className:"date-input",children:[(0,d.jsx)(o.EY,{className:"input-label",children:"\u65e5\u671f"}),(0,d.jsx)(o.LC,{mode:"date",value:k,start:Ne(),onChange:function(e){return b(e.detail.value)},children:(0,d.jsxs)(o.Ss,{className:"picker-trigger",children:[(0,d.jsx)(o.EY,{className:k?"picker-value":"picker-placeholder",children:k||"\u9009\u62e9\u65e5\u671f"}),(0,d.jsx)(o.EY,{className:"picker-arrow",children:"\u25bc"})]})})]}),(0,d.jsxs)(o.Ss,{className:"time-input",children:[(0,d.jsx)(o.EY,{className:"input-label",children:"\u65f6\u6bb5"}),(0,d.jsx)(o.LC,{mode:"selector",range:f,rangeKey:"label",value:f.findIndex(function(e){return e.value===y}),onChange:function(e){var n=parseInt(e.detail.value,10);f[n]&&C(f[n].value)},children:(0,d.jsxs)(o.Ss,{className:"picker-trigger",children:[(0,d.jsx)(o.EY,{className:y?"picker-value":"picker-placeholder",children:(null===(n=f.find(function(e){return e.value===y}))||void 0===n?void 0:n.label)||"\u9009\u62e9\u65f6\u6bb5"}),(0,d.jsx)(o.EY,{className:"picker-arrow",children:"\u25bc"})]})})]})]})]}),(0,d.jsxs)(o.Ss,{className:"form-group",children:[(0,d.jsxs)(o.EY,{className:"form-label",children:["\u62cd\u6444\u5730\u70b9 ",(0,d.jsx)(o.EY,{className:"hint",children:"\uff08\u53ef\u9009\uff09"})]}),(0,d.jsx)(o.pd,{className:"form-input",value:I,onInput:function(e){return O(e.detail.value)},placeholder:"\u4f8b\u5982\uff1a\u4e0a\u6d77\u6cd5\u79df\u754c\u3001\u5916\u6ee9"})]}),(0,d.jsxs)(o.Ss,{className:"form-group",children:[(0,d.jsxs)(o.EY,{className:"form-label",children:["\u671f\u671b\u98ce\u683c ",(0,d.jsx)(o.EY,{className:"hint",children:"\uff08\u53ef\u9009\uff09"})]}),(0,d.jsx)(o.pd,{className:"form-input",value:P,onInput:function(e){return M(e.detail.value)},placeholder:"\u4f8b\u5982\uff1a\u590d\u53e4\u80f6\u7247\u3001\u81ea\u7136\u5149"})]}),(0,d.jsxs)(o.Ss,{className:"form-group",children:[(0,d.jsxs)(o.EY,{className:"form-label",children:["\u5907\u6ce8\u8bf4\u660e ",(0,d.jsx)(o.EY,{className:"hint",children:"\uff08\u53ef\u9009\uff09"})]}),(0,d.jsx)(o.TM,{className:"form-textarea",value:L,onInput:function(e){return B(e.detail.value)},placeholder:"\u63cf\u8ff0\u4f60\u7684\u62cd\u6444\u9700\u6c42\u3001\u671f\u671b\u6548\u679c\u3001\u7279\u6b8a\u8981\u6c42\u7b49...",maxlength:200})]}),(0,d.jsxs)(o.Ss,{className:"form-group",children:[(0,d.jsxs)(o.EY,{className:"form-label",children:["\u8054\u7cfb\u7535\u8bdd ",(0,d.jsx)(o.EY,{className:"required",children:"*"})]}),(0,d.jsx)(o.pd,{className:"form-input",type:"number",value:H,onInput:function(e){return V(e.detail.value)},placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u624b\u673a\u53f7\u7801",maxlength:11})]}),(0,d.jsxs)(o.Ss,{className:"form-group",children:[(0,d.jsx)(o.EY,{className:"form-label",children:"\u7ea6\u62cd\u6d41\u7a0b\u8bf4\u660e"}),(0,d.jsx)(o.Ss,{className:"guide-section",children:Object.entries(u.vc).map(function(e){var n=(0,a.A)(e,2),t=n[0],s=n[1];return(0,d.jsxs)(o.Ss,{className:"guide-item",children:[(0,d.jsx)(o.EY,{className:"guide-title",children:s.title}),s.items.map(function(e,n){return(0,d.jsxs)(o.Ss,{className:"guide-content",children:[(0,d.jsxs)(o.EY,{className:"guide-label",children:["\u2022 ",e.label,"\uff1a"]}),(0,d.jsx)(o.EY,{className:"guide-text",children:e.content})]},n)})]},t)})})]})]})}},3651:function(e,n,t){t.d(n,{A:function(){return u}});var s=t(758),a=t.n(s),r=t(118),c=t(4261),i=t(4848),o=!1,l=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!o){o=!0;try{n?a().switchTab({url:e}):a().navigateTo({url:e})}catch(e){console.error("Navigation error:",e)}finally{setTimeout(function(){o=!1},500)}}};function u(e){var n=e.currentPage,t=void 0===n?"index":n,s=(0,c.nm)(),a=s.isPhotographerMode;return a?(0,i.jsxs)(r.Ss,{className:"bottom-nav",children:[(0,i.jsxs)(r.Ss,{className:"nav-item ".concat("index"===t?"active":""),onClick:function(){return l("/pages/index/index",!0)},children:[(0,i.jsx)(r.EY,{className:"nav-icon",children:"\ud83c\udfe0"}),(0,i.jsx)(r.EY,{className:"nav-text",children:"\u9996\u9875"})]}),(0,i.jsxs)(r.Ss,{className:"nav-item ".concat("works"===t?"active":""),onClick:function(){return l("/pages/admin/index",!0)},children:[(0,i.jsx)(r.EY,{className:"nav-icon",children:"\ud83d\udcf7"}),(0,i.jsx)(r.EY,{className:"nav-text",children:"\u4f5c\u54c1"})]}),(0,i.jsxs)(r.Ss,{className:"nav-item ".concat("booking"===t?"active":""),onClick:function(){return l("/pages/booking/index",!0)},children:[(0,i.jsx)(r.EY,{className:"nav-icon",children:"\ud83d\udcc5"}),(0,i.jsx)(r.EY,{className:"nav-text",children:"\u9884\u7ea6"})]}),(0,i.jsxs)(r.Ss,{className:"nav-item ".concat("profile"===t?"active":""),onClick:function(){return l("/pages/profile/index",!0)},children:[(0,i.jsx)(r.EY,{className:"nav-icon",children:"\ud83d\udc64"}),(0,i.jsx)(r.EY,{className:"nav-text",children:"\u6211\u7684"})]})]}):(0,i.jsxs)(r.Ss,{className:"bottom-nav",children:[(0,i.jsxs)(r.Ss,{className:"nav-item ".concat("index"===t?"active":""),onClick:function(){return l("/pages/index/index",!0)},children:[(0,i.jsx)(r.EY,{className:"nav-icon",children:"\ud83c\udfe0"}),(0,i.jsx)(r.EY,{className:"nav-text",children:"\u9996\u9875"})]}),(0,i.jsxs)(r.Ss,{className:"nav-item ".concat("profile"===t?"active":""),onClick:function(){return l("/pages/profile/index",!0)},children:[(0,i.jsx)(r.EY,{className:"nav-icon",children:"\ud83d\udc64"}),(0,i.jsx)(r.EY,{className:"nav-text",children:"\u6211\u7684"})]})]})}},9584:function(e,n,t){t.d(n,{A:function(){return r}});t(6540);var s=t(118),a=t(4848);function r(e){var n=e.visible,t=e.onClose,r=e.title,c=e.children,i=e.showFooter,o=void 0===i||i,l=e.footer,u=e.className,d=void 0===u?"":u;return(0,a.jsx)(s.Ss,{className:"modal-overlay ".concat(n?"show":""),onClick:t,style:{display:n?"flex":"none"},children:(0,a.jsxs)(s.Ss,{className:"modal-content ".concat(d),onClick:function(e){return e.stopPropagation()},children:[(0,a.jsxs)(s.Ss,{className:"modal-header",children:[(0,a.jsx)(s.EY,{className:"modal-title",children:r}),(0,a.jsx)(s.Ss,{className:"modal-close",onClick:t,children:(0,a.jsx)(s.EY,{className:"close-icon",children:"\xd7"})})]}),(0,a.jsx)(s.Ss,{className:"modal-body",children:c}),o&&(0,a.jsx)(s.Ss,{className:"modal-footer",children:l||(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.Ss,{className:"modal-btn secondary",onClick:t,children:(0,a.jsx)(s.EY,{className:"btn-text",children:"\u53d6\u6d88"})})})})]})})}},3439:function(e,n,t){t.d(n,{Yu:function(){return a},jU:function(){return c},kR:function(){return o},vc:function(){return i}});var s=t(4467),a=[{id:"all",name:"\u5168\u90e8",icon:"\ud83d\udcf7"},{id:"vintage",name:"\u590d\u53e4",icon:"\ud83c\udf9e\ufe0f"},{id:"portrait",name:"\u4eba\u50cf",icon:"\ud83d\udcab"},{id:"mood",name:"\u60c5\u7eea",icon:"\ud83c\udfad"},{id:"street",name:"\u8857\u5934",icon:"\ud83d\udeb6"},{id:"film",name:"\u80f6\u7247",icon:"\ud83c\udfac"},{id:"nature",name:"\u65e5\u7cfb",icon:"\ud83c\udf3f"},{id:"fashion",name:"\u65f6\u5c1a",icon:"\ud83d\udc57"},{id:"couple",name:"\u60c5\u4fa3",icon:"\ud83d\udc95"},{id:"hanfu",name:"\u6c49\u670d",icon:"\ud83c\udfee"}],r={PENDING:"pending",CONFIRMED:"confirmed",SHOOTING:"shooting",REVIEW:"review",COMPLETED:"completed",CANCELLED:"cancelled"},c=(0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)({},r.PENDING,{text:"\u5f85\u786e\u8ba4",color:"#FF9500",bgColor:"#FFF3E0"}),r.CONFIRMED,{text:"\u5df2\u786e\u8ba4",color:"#007AFF",bgColor:"#E3F2FD"}),r.SHOOTING,{text:"\u62cd\u6444\u4e2d",color:"#9C27B0",bgColor:"#F3E5F5"}),r.REVIEW,{text:"\u5f85\u8bc4\u4ef7",color:"#3F51B5",bgColor:"#E8EAF6"}),r.COMPLETED,{text:"\u5df2\u5b8c\u6210",color:"#4CAF50",bgColor:"#E8F5E9"}),r.CANCELLED,{text:"\u5df2\u53d6\u6d88",color:"#9E9E9E",bgColor:"#F5F5F5"}),i={preparation:{title:"\u62cd\u6444\u524d\u51c6\u5907",items:[{label:"\u5986\u9020\u5efa\u8bae",content:"\u5efa\u8bae\u6a21\u7279\u6839\u636e\u62cd\u6444\u98ce\u683c\u51c6\u5907\u76f8\u5e94\u5986\u5bb9\uff0c\u53ef\u63d0\u524d\u4e0e\u6444\u5f71\u5e08\u6c9f\u901a\u5986\u9762\u8981\u6c42"},{label:"\u670d\u88c5\u51c6\u5907",content:"\u901a\u5e38\u51c6\u59072-3\u5957\u670d\u88c5\uff0c\u5177\u4f53\u6839\u636e\u62cd\u6444\u65f6\u957f\u548c\u573a\u666f\u6570\u91cf\u786e\u5b9a"},{label:"\u9053\u5177\u51c6\u5907",content:"\u5982\u6709\u7279\u6b8a\u9053\u5177\u9700\u6c42\uff0c\u8bf7\u63d0\u524d\u4e0e\u6444\u5f71\u5e08\u786e\u8ba4\u7531\u8c01\u63d0\u4f9b"}]},during:{title:"\u62cd\u6444\u4e2d\u6c9f\u901a",items:[{label:"\u52a8\u4f5c\u5f15\u5bfc",content:"\u6444\u5f71\u5e08\u4f1a\u5168\u7a0b\u6307\u5bfc\u52a8\u4f5c\u548c\u8868\u60c5\uff0c\u65e0\u9700\u62c5\u5fc3\u59ff\u52bf\u95ee\u9898"},{label:"\u966a\u540c\u653f\u7b56",content:"\u53ef\u5e261\u4f4d\u670b\u53cb\u966a\u540c\uff0c\u4f46\u8bf7\u4e0d\u8981\u5e72\u6270\u62cd\u6444\u8fdb\u7a0b"},{label:"\u5b9e\u65f6\u67e5\u770b",content:"\u62cd\u6444\u8fc7\u7a0b\u4e2d\u53ef\u968f\u65f6\u67e5\u770b\u539f\u7247\uff0c\u4e0d\u6ee1\u610f\u53ef\u53ca\u65f6\u8c03\u6574"}]},post:{title:"\u540e\u671f\u4ea4\u4ed8",items:[{label:"\u521d\u4fee\u65f6\u95f4",content:"\u62cd\u6444\u5b8c\u6210\u540e3-5\u4e2a\u5de5\u4f5c\u65e5\u5185\u63d0\u4f9b\u521d\u4fee\u9884\u89c8"},{label:"\u7cbe\u4fee\u5f20\u6570",content:"\u6839\u636e\u5957\u9910\u4e0d\u540c\uff0c\u7cbe\u4fee9-20\u5f20\u4e0d\u7b49"},{label:"\u539f\u56fe\u4ea4\u4ed8",content:"\u6240\u6709\u539f\u56fe\u7ecf\u8fc7\u57fa\u7840\u8c03\u8272\u540e\u5168\u9001"}]},notice:{title:"\u7279\u522b\u8bf4\u660e",items:[{label:"\u8096\u50cf\u6743",content:"\u9ed8\u8ba4\u6388\u4e88\u6444\u5f71\u5e08\u4f5c\u54c1\u5c55\u793a\u6743\uff0c\u5982\u9700\u4fdd\u5bc6\u8bf7\u63d0\u524d\u8bf4\u660e"},{label:"\u5b9a\u91d1\u89c4\u8303",content:"\u9884\u7ea6\u9700\u652f\u4ed8\u5b9a\u91d1\u9501\u5b9a\u6863\u671f\uff0c\u62cd\u6444\u5b8c\u6210\u540e\u652f\u4ed8\u5c3e\u6b3e"},{label:"\u6539\u671f\u653f\u7b56",content:"\u63d0\u524d48\u5c0f\u65f6\u53ef\u514d\u8d39\u6539\u671f\uff0c\u4e34\u65f6\u53d6\u6d88\u5b9a\u91d1\u4e0d\u9000"}]}},o={id:"default",name:"\u5149\u5f71\u8bd7\u4eba",title:"\u72ec\u7acb\u6444\u5f71\u5e08",location:"\u4e0a\u6d77",bio:"\u4e13\u6ce8\u4eba\u50cf\u6444\u5f715\u5e74\uff0c\u7528\u955c\u5934\u8bb0\u5f55\u6bcf\u4e00\u4e2a\u52a8\u4eba\u77ac\u95f4\u3002\u64c5\u957f\u6e05\u65b0\u81ea\u7136\u3001\u590d\u53e4\u80f6\u7247\u3001\u53e4\u98ce\u6c49\u670d\u98ce\u683c\u3002",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400&h=400&fit=crop&crop=face",wechatId:"guangying_shi",phone:"13800000000",stats:{works:128,favorites:2300,bookings:56}}},4261:function(e,n,t){t.d(n,{Dv:function(){return g},Us:function(){return v},nm:function(){return x}});var s=t(436),a=t(1212),r=t(9379),c=t(467),i=t(5544),o=t(6540),l=t(758),u=t.n(l),d=t(3439),m=t(4848),f={FAVORITES:"user_favorites",USER_INFO:"user_info",INTENT_SENT:"intent_sent",PHOTOGRAPHER_MODE:"photographer_mode"},h={userInfo:null,isLoggedIn:!1,isPhotographerMode:!1,photographer:d.kR,works:[],bookings:[],favorites:[],loading:!1},p=(0,o.createContext)(void 0),g=function(e){var n=e.children,t=(0,o.useState)(h),l=(0,i.A)(t,2),d=l[0],g=l[1];(0,o.useEffect)(function(){var e=function(){var e=(0,c.A)((0,a.A)().m(function e(){var n,t,s,c,i;return(0,a.A)().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,n=u().getStorageSync(f.USER_INFO),t=u().getStorageSync(f.PHOTOGRAPHER_MODE),s=!0===t||"true"===t,c=u().getStorageSync(f.FAVORITES)||[],g(function(e){return(0,r.A)((0,r.A)({},e),{},{userInfo:n||null,isLoggedIn:!!n,isPhotographerMode:s,favorites:c})}),e.n=1,x();case 1:return e.n=2,v();case 2:e.n=4;break;case 3:e.p=3,i=e.v,console.error("\u521d\u59cb\u5316\u6570\u636e\u5931\u8d25:",i);case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}();e()},[]);var x=function(){var e=(0,c.A)((0,a.A)().m(function e(){var n,t;return(0,a.A)().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,u().cloud.callFunction({name:"getWorks",data:{photographerId:"default"}});case 1:n=e.v,n.result&&n.result.success&&Array.isArray(n.result.data)&&g(function(e){return(0,r.A)((0,r.A)({},e),{},{works:n.result.data})}),e.n=3;break;case 2:e.p=2,t=e.v,console.error("\u52a0\u8f7d\u4f5c\u54c1\u5931\u8d25:",t),g(function(e){return(0,r.A)((0,r.A)({},e),{},{works:N()})});case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,c.A)((0,a.A)().m(function e(){var n,t;return(0,a.A)().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,u().cloud.callFunction({name:"getBookings",data:{}});case 1:n=e.v,n.result&&n.result.success&&Array.isArray(n.result.data)&&g(function(e){return(0,r.A)((0,r.A)({},e),{},{bookings:n.result.data})}),e.n=3;break;case 2:e.p=2,t=e.v,console.error("\u52a0\u8f7d\u9884\u7ea6\u5931\u8d25:",t),g(function(e){return(0,r.A)((0,r.A)({},e),{},{bookings:j()})});case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),A=(0,o.useCallback)(function(e){g(function(n){return(0,r.A)((0,r.A)({},n),{},{userInfo:e,isLoggedIn:!0})}),u().setStorageSync(f.USER_INFO,e)},[]),E=(0,o.useCallback)(function(){g(function(e){return(0,r.A)((0,r.A)({},e),{},{userInfo:null,isLoggedIn:!1})}),u().removeStorageSync(f.USER_INFO)},[]),k=(0,o.useCallback)(function(){g(function(e){var n=!e.isPhotographerMode;return u().setStorageSync(f.PHOTOGRAPHER_MODE,n),(0,r.A)((0,r.A)({},e),{},{isPhotographerMode:n})})},[]),b=(0,o.useCallback)(function(e){g(function(n){return(0,r.A)((0,r.A)({},n),{},{works:e})})},[]),S=(0,o.useCallback)(function(e){g(function(n){return(0,r.A)((0,r.A)({},n),{},{works:[e].concat((0,s.A)(n.works))})})},[]),w=(0,o.useCallback)(function(e){g(function(n){return(0,r.A)((0,r.A)({},n),{},{works:n.works.map(function(n){return n.id===e.id?e:n})})})},[]),y=(0,o.useCallback)(function(e){g(function(n){return(0,r.A)((0,r.A)({},n),{},{works:n.works.filter(function(n){return n.id!==e})})})},[]),C=(0,o.useCallback)(function(e){g(function(n){return(0,r.A)((0,r.A)({},n),{},{bookings:e})})},[]),Y=(0,o.useCallback)(function(e){g(function(n){return(0,r.A)((0,r.A)({},n),{},{bookings:[e].concat((0,s.A)(n.bookings))})})},[]),F=(0,o.useCallback)(function(e){g(function(n){return(0,r.A)((0,r.A)({},n),{},{bookings:n.bookings.map(function(n){return n.id===e.id?e:n})})})},[]),I=(0,o.useCallback)(function(e){g(function(n){var t=n.favorites.includes(e),a=t?n.favorites.filter(function(n){return n!==e}):[].concat((0,s.A)(n.favorites),[e]);return u().setStorageSync(f.FAVORITES,a),(0,r.A)((0,r.A)({},n),{},{favorites:a})})},[]),O=(0,o.useCallback)(function(e){return d.favorites.includes(e)},[d.favorites]),R=(0,r.A)((0,r.A)({},d),{},{login:A,logout:E,togglePhotographerMode:k,setWorks:b,addWork:S,updateWork:w,deleteWork:y,setBookings:C,addBooking:Y,updateBooking:F,toggleFavorite:I,isFavorited:O});return(0,m.jsx)(p.Provider,{value:R,children:n})},x=function(){var e=(0,o.useContext)(p);if(void 0===e)throw new Error("useApp must be used within an AppProvider");return e},v=x,N=function(){return[{id:"1",title:"\u6668\u5149\u5c11\u5973",description:"\u81ea\u7136\u5149\u4e0b\u7684\u6e29\u67d4\u65f6\u523b",images:["https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=600&h=600&fit=crop&crop=face"],style:"\u6e05\u65b0",camera:"Canon EOS R5",lens:"RF 85mm f/1.2L",likes:234,createdAt:"2024-01-15"},{id:"2",title:"\u590d\u53e4\u65f6\u5149",description:"\u8001\u4e0a\u6d77\u98ce\u60c5\u4eba\u50cf",images:["https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=600&h=600&fit=crop&crop=face"],style:"\u590d\u53e4",camera:"Sony A7M4",lens:"FE 50mm f/1.2",likes:189,createdAt:"2024-01-14"},{id:"3",title:"\u7a97\u8fb9\u601d\u7eea",description:"\u5348\u540e\u7a97\u8fb9\u7684\u9759\u8c27\u65f6\u523b",images:["https://images.unsplash.com/photo-1517841905240-472988babdf9?w=600&h=600&fit=crop&crop=face"],style:"\u60c5\u7eea",camera:"Fujifilm XT-4",lens:"XF 56mm f/1.2",likes:156,createdAt:"2024-01-13"},{id:"4",title:"\u6e29\u67d4\u5348\u540e",description:"\u9633\u5149\u6d12\u843d\u7684\u6e29\u67d4\u77ac\u95f4",images:["https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=600&h=600&fit=crop&crop=face"],style:"\u6e05\u65b0",camera:"Canon EOS R6",lens:"RF 50mm f/1.8",likes:312,createdAt:"2024-01-12"},{id:"5",title:"\u90fd\u5e02\u4e3d\u5f71",description:"\u90fd\u5e02\u8857\u5934\u65f6\u5c1a\u4eba\u50cf",images:["https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=600&h=600&fit=crop&crop=face"],style:"\u65f6\u5c1a",camera:"Nikon Z6 II",lens:"Z 85mm f/1.8",likes:278,createdAt:"2024-01-11"},{id:"6",title:"\u8857\u5934\u6f2b\u6b65",description:"\u57ce\u5e02\u8857\u5934\u7684\u81ea\u7136\u77ac\u95f4",images:["https://images.unsplash.com/photo-1502823403499-6ccfcf4fb453?w=600&h=600&fit=crop&crop=face"],style:"\u8857\u62cd",camera:"Leica Q2",lens:"Summilux 28mm",likes:145,createdAt:"2024-01-10"},{id:"7",title:"\u4f18\u96c5\u65f6\u523b",description:"\u804c\u573a\u5973\u6027\u7684\u81ea\u4fe1\u98ce\u91c7",images:["https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=600&h=600&fit=crop&crop=face"],style:"\u804c\u4e1a",camera:"Canon EOS R5",lens:"RF 24-70mm f/2.8",likes:201,createdAt:"2024-01-09"},{id:"8",title:"\u7eaf\u771f\u7b11\u5bb9",description:"\u6700\u81ea\u7136\u7684\u7b11\u5bb9\u6355\u6349",images:["https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=600&h=600&fit=crop&crop=face"],style:"\u6e05\u65b0",camera:"Sony A7C",lens:"FE 35mm f/1.8",likes:167,createdAt:"2024-01-08"},{id:"9",title:"\u53e4\u5178\u97f5\u5473",description:"\u6c49\u670d\u4eba\u50cf\u7684\u53e4\u98ce\u4e4b\u7f8e",images:["https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=600&h=600&fit=crop&crop=face"],style:"\u53e4\u98ce",camera:"Canon EOS R6",lens:"RF 85mm f/1.2L",likes:423,createdAt:"2024-01-07"}]},j=function(){return[{id:"BK001",photographerId:"default",photographerName:"\u5149\u5f71\u8bd7\u4eba",photographerAvatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=100&h=100&fit=crop&crop=face",clientId:"user1",clientName:"\u5c0f\u96e8",clientPhone:"138****8888",type:"\u4e2a\u4eba\u5199\u771f",date:"2024-02-15",time:"\u4e0b\u5348",location:"\u4e0a\u6d77\u6cd5\u79df\u754c",style:"\u590d\u53e4\u80f6\u7247",notes:"\u559c\u6b22\u590d\u53e4\u80f6\u7247\u98ce\u683c\uff0c\u5e0c\u671b\u80fd\u6709\u9633\u5149\u7684\u65f6\u5019\u62cd\u6444",status:"pending",createdAt:"2024-02-10T14:30:00",updatedAt:"2024-02-10T14:30:00"},{id:"BK002",photographerId:"default",photographerName:"\u5149\u5f71\u8bd7\u4eba",photographerAvatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=100&h=100&fit=crop&crop=face",clientId:"user2",clientName:"\u6653\u6653",clientPhone:"139****6666",type:"\u60c5\u4fa3\u7167",date:"2024-02-18",time:"\u4e0a\u5348",location:"\u5916\u6ee9",style:"\u65e5\u7cfb\u6e05\u65b0",notes:"\u60c5\u4fa3\u5199\u771f\uff0c\u5e0c\u671b\u80fd\u81ea\u7136\u4e00\u4e9b",status:"confirmed",createdAt:"2024-02-08T10:00:00",updatedAt:"2024-02-09T09:30:00"}]}},2375:function(e,n,t){t.d(n,{FJ:function(){return r},GQ:function(){return o},P0:function(){return i},_V:function(){return c},lW:function(){return l}});var s=t(758),a=t.n(s),r=function(){try{return a().getStorageSync("user_favorites")||[]}catch(e){return console.error("\u83b7\u53d6\u6536\u85cf\u5931\u8d25",e),[]}},c=function(){var e=r(),n={};return e.forEach(function(e){n[e.styleName]=(n[e.styleName]||0)+1}),{total:e.length,byStyle:n}},i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";a().showToast({title:e,icon:n,duration:2e3})},o=function(e,n){return new Promise(function(t){a().showModal({title:e,content:n,showCancel:!0,success:function(e){t(e.confirm)}})})},l=function(e){return new Promise(function(n){a().setClipboardData({data:e,success:function(){i("\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f","success"),n(!0)},fail:function(){i("\u590d\u5236\u5931\u8d25","error"),n(!1)}})})}}}]);