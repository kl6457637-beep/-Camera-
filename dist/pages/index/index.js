"use strict";(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[421],{7956:function(s,e,a){var c=a(8870),t=a(436),i=a(5544),n=a(758),l=a.n(n),o=a(6540),r=a(118),m=a(4261),d=a(3651),h=a(9584),p=a(4848),u="l18273659421";function x(s){var e=s.visible,a=s.onClose,c=function(){l().setClipboardData({data:u,success:function(){l().showToast({title:"\u5fae\u4fe1\u53f7\u5df2\u590d\u5236",icon:"success"})}})};return(0,p.jsx)(h.A,{visible:e,onClose:a,title:"\u8054\u7cfb\u6211",footer:(0,p.jsx)(r.Ss,{className:"modal-btn primary",onClick:c,children:(0,p.jsx)(r.EY,{className:"btn-text",children:"\u590d\u5236\u5fae\u4fe1\u53f7"})}),children:(0,p.jsxs)(r.Ss,{className:"contact-content",children:[(0,p.jsx)(r.Ss,{className:"wechat-icon",children:"\ud83d\udcac"}),(0,p.jsx)(r.EY,{className:"contact-tip",children:"\u6dfb\u52a0\u6444\u5f71\u5e08\u5fae\u4fe1\u8fdb\u884c\u54a8\u8be2"}),(0,p.jsxs)(r.Ss,{className:"wechat-id-box",children:[(0,p.jsx)(r.EY,{className:"wechat-label",children:"\u5fae\u4fe1\u53f7"}),(0,p.jsx)(r.EY,{className:"wechat-id",children:u})]})]})})}var f=a(9981),g=[{id:"all",name:"\u5168\u90e8",icon:"\ud83d\udcf7"},{id:"\u6e05\u65b0",name:"\u6e05\u65b0",icon:"\ud83c\udf3f"},{id:"\u590d\u53e4",name:"\u590d\u53e4",icon:"\ud83c\udf9e\ufe0f"},{id:"\u4eba\u50cf",name:"\u4eba\u50cf",icon:"\ud83d\udcab"},{id:"\u60c5\u7eea",name:"\u60c5\u7eea",icon:"\ud83c\udfad"},{id:"\u8857\u62cd",name:"\u8857\u62cd",icon:"\ud83d\udeb6"},{id:"\u65f6\u5c1a",name:"\u65f6\u5c1a",icon:"\ud83d\udc57"},{id:"\u80f6\u7247",name:"\u80f6\u7247",icon:"\ud83c\udfac"},{id:"\u65e5\u7cfb",name:"\u65e5\u7cfb",icon:"\ud83c\udf38"},{id:"\u60c5\u4fa3",name:"\u60c5\u4fa3",icon:"\ud83d\udc95"},{id:"\u6c49\u670d",name:"\u6c49\u670d",icon:"\ud83c\udfee"}],j={name:"\u5149\u5f71\u8bd7\u4eba",avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400",wechat:"guangying_shi",title:"\u72ec\u7acb\u6444\u5f71\u5e08",location:"\u4e0a\u6d77"},N=function(){return[{id:"1",title:"\u6668\u5149\u5c11\u5973",description:"\u81ea\u7136\u5149\u4e0b\u7684\u6e29\u67d4\u65f6\u523b",images:["https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=600&h=800&fit=crop&crop=face","https://images.unsplash.com/photo-1517841905240-472988babdf9?w=600&h=800&fit=crop&crop=face","https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=600&h=800&fit=crop&crop=face"],style:"\u6e05\u65b0",location:"\u4e0a\u6d77\u6cd5\u79df\u754c",likes:234,createdAt:"2024-01-15"},{id:"2",title:"\u590d\u53e4\u65f6\u5149",description:"\u8001\u4e0a\u6d77\u98ce\u60c5\u4eba\u50cf",images:["https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=600&h=900&fit=crop&crop=face"],style:"\u590d\u53e4",location:"\u4e0a\u6d77\u5916\u6ee9",likes:189,createdAt:"2024-01-14"},{id:"3",title:"\u7a97\u8fb9\u601d\u7eea",description:"\u5348\u540e\u7a97\u8fb9\u7684\u9759\u8c27\u65f6\u523b",images:["https://images.unsplash.com/photo-1517841905240-472988babdf9?w=600&h=700&fit=crop&crop=face","https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=600&h=700&fit=crop&crop=face"],style:"\u60c5\u7eea",location:"\u4e0a\u6d77\u7530\u5b50\u574a",likes:156,createdAt:"2024-01-13"},{id:"4",title:"\u6e29\u67d4\u5348\u540e",description:"\u9633\u5149\u6d12\u843d\u7684\u6e29\u67d4\u77ac\u95f4",images:["https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=600&h=800&fit=crop&crop=face"],style:"\u6e05\u65b0",location:"\u4e0a\u6d77\u690d\u7269\u56ed",likes:312,createdAt:"2024-01-12"},{id:"5",title:"\u90fd\u5e02\u4e3d\u5f71",description:"\u90fd\u5e02\u8857\u5934\u65f6\u5c1a\u4eba\u50cf",images:["https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=600&h=750&fit=crop&crop=face","https://images.unsplash.com/photo-1502823403499-6ccfcf4fb453?w=600&h=750&fit=crop&crop=face","https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=600&h=750&fit=crop&crop=face","https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=600&h=750&fit=crop&crop=face"],style:"\u65f6\u5c1a",location:"\u4e0a\u6d77\u9646\u5bb6\u5634",likes:278,createdAt:"2024-01-11"},{id:"6",title:"\u8857\u5934\u6f2b\u6b65",description:"\u57ce\u5e02\u8857\u5934\u7684\u81ea\u7136\u77ac\u95f4",images:["https://images.unsplash.com/photo-1502823403499-6ccfcf4fb453?w=600&h=850&fit=crop&crop=face"],style:"\u8857\u62cd",location:"\u4e0a\u6d77\u65b0\u5929\u5730",likes:145,createdAt:"2024-01-10"}]};function b(){var s=(0,m.Us)(),e=s.works,a=s.toggleFavorite,c=s.bookings,h=(0,o.useState)("all"),u=(0,i.A)(h,2),b=u[0],S=u[1],w=(0,o.useState)([]),k=(0,i.A)(w,2),v=k[0],E=k[1],Y=(0,o.useState)([]),y=(0,i.A)(Y,2),A=y[0],C=y[1],T=(0,o.useState)(!0),_=(0,i.A)(T,2),F=_[0],O=_[1],V=(0,o.useState)(!1),z=(0,i.A)(V,2),L=z[0],P=z[1],B=(0,o.useState)(!1),D=(0,i.A)(B,2),J=D[0],U=D[1],H=(0,o.useState)(44),I=(0,i.A)(H,2),M=I[0],X=I[1];(0,o.useEffect)(function(){var s=l().getSystemInfoSync();X(s.statusBarHeight||44)},[]),(0,o.useEffect)(function(){G()},[e]),(0,n.useDidShow)(function(){q()});var q=function(){try{var s=l().getStorageSync("user_favorites")||[];E(s)}catch(s){console.error("\u52a0\u8f7d\u6536\u85cf\u5931\u8d25",s)}},G=function(){q(),e&&e.length>0?C(e):C(N()),O(!1)},K=(0,o.useCallback)(function(){return"all"===b?A:A.filter(function(s){return s.style===b})},[b,A]),Q=(0,o.useCallback)(function(s,e){e&&e.stopPropagation();try{var c,i=v.indexOf(s);c=i>-1?v.filter(function(e){return e!==s}):[].concat((0,t.A)(v),[s]),l().setStorageSync("user_favorites",c),E(c),a(s)}catch(s){console.error("\u5207\u6362\u6536\u85cf\u5931\u8d25",s)}},[v,a]),R=(0,o.useCallback)(function(s){l().navigateTo({url:"/pages/detail/index?id="+s})},[]),W=(0,o.useCallback)(function(){P(!0)},[]),Z=(0,o.useCallback)(function(){U(!0)},[]),$=(0,o.useCallback)(function(){l().navigateTo({url:"/pages/favorites/index"})},[]),ss=(0,o.useCallback)(function(){l().navigateTo({url:"/pages/booking/index"})},[]),es=function(s){console.log("\u9884\u7ea6\u6570\u636e:",s),l().showToast({title:"\u9884\u7ea6\u6210\u529f",icon:"success"}),U(!1)},as=(0,o.useCallback)(function(s){S(s)},[]),cs=K(),ts=A.length,is=v.length,ns=(null===c||void 0===c?void 0:c.length)||0;return F?(0,p.jsx)(r.Ss,{className:"loading",children:(0,p.jsx)(r.EY,{children:"\u52a0\u8f7d\u4e2d..."})}):(0,p.jsxs)(r.Ss,{className:"page",children:[(0,p.jsx)(r.Ss,{className:"header-bg",style:{paddingTop:"".concat(M,"px")},children:(0,p.jsx)(r.Ss,{className:"header-pattern"})}),(0,p.jsxs)(r.Ss,{className:"header",style:{marginTop:"-".concat(.5*M,"px")},children:[(0,p.jsxs)(r.Ss,{className:"avatar-wrapper",children:[(0,p.jsx)(r._V,{className:"avatar",src:j.avatar,mode:"aspectFill"}),(0,p.jsx)(r.Ss,{className:"verified-badge",children:"\u2713"})]}),(0,p.jsx)(r.EY,{className:"name",children:j.name}),(0,p.jsxs)(r.EY,{className:"title",children:[j.title," \xb7 ",j.location]}),(0,p.jsxs)(r.Ss,{className:"stats",children:[(0,p.jsxs)(r.Ss,{className:"stat-item",children:[(0,p.jsx)(r.EY,{className:"stat-num",children:ts}),(0,p.jsx)(r.EY,{className:"stat-label",children:"\u4f5c\u54c1"})]}),(0,p.jsx)(r.Ss,{className:"stat-divider"}),(0,p.jsxs)(r.Ss,{className:"stat-item",onTap:$,children:[(0,p.jsx)(r.EY,{className:"stat-num",children:is}),(0,p.jsx)(r.EY,{className:"stat-label",children:"\u6536\u85cf"})]}),(0,p.jsx)(r.Ss,{className:"stat-divider"}),(0,p.jsxs)(r.Ss,{className:"stat-item",onTap:ss,children:[(0,p.jsx)(r.EY,{className:"stat-num",children:ns}),(0,p.jsx)(r.EY,{className:"stat-label",children:"\u9884\u7ea6"})]})]}),(0,p.jsxs)(r.Ss,{className:"action-btns",children:[(0,p.jsxs)(r.Ss,{className:"action-btn contact-btn",onTap:W,children:[(0,p.jsx)(r.Ss,{className:"btn-icon-wrapper",children:(0,p.jsx)(r.EY,{className:"btn-icon contact-icon",children:"\ud83d\udcac"})}),(0,p.jsx)(r.EY,{className:"btn-text",children:"\u8054\u7cfb\u6211"})]}),(0,p.jsxs)(r.Ss,{className:"action-btn book-btn",onTap:Z,children:[(0,p.jsx)(r.Ss,{className:"btn-icon-wrapper",children:(0,p.jsx)(r.EY,{className:"btn-icon book-icon",children:"\ud83d\udcf8"})}),(0,p.jsx)(r.EY,{className:"btn-text",children:"\u9884\u7ea6\u6444\u5f71"})]})]})]}),(0,p.jsx)(r.Ss,{className:"tabs-section",children:(0,p.jsx)(r.BM,{scrollX:!0,className:"tabs-scroll",showScrollbar:!1,children:(0,p.jsx)(r.Ss,{className:"tabs",children:g.map(function(s){return(0,p.jsxs)(r.Ss,{className:"tab ".concat(b===s.id?"active":""),onTap:function(){return as(s.id)},children:[(0,p.jsx)(r.EY,{className:"tab-icon",children:s.icon}),(0,p.jsx)(r.EY,{className:"tab-name",children:s.name})]},s.id)})})})}),(0,p.jsx)(r.Ss,{className:"works-list",children:cs.map(function(s){var e=v.indexOf(s.id)>-1,a=s.images.length>1;return(0,p.jsxs)(r.Ss,{className:"work-card",onTap:function(){return R(s.id)},children:[(0,p.jsxs)(r.Ss,{className:"image-wrapper",children:[a?(0,p.jsxs)(r.Ss,{className:"multi-image-container",children:[(0,p.jsx)(r.Ss,{className:"main-image-wrap",children:(0,p.jsx)(r._V,{className:"work-image",src:s.images[0],mode:"aspectFill",lazyLoad:!0})}),(0,p.jsxs)(r.Ss,{className:"sub-images-wrap",children:[s.images.slice(1,3).map(function(s,e){return(0,p.jsx)(r.Ss,{className:"sub-image-item",children:(0,p.jsx)(r._V,{className:"work-image",src:s,mode:"aspectFill",lazyLoad:!0})},e)}),s.images.length>3&&(0,p.jsx)(r.Ss,{className:"more-images-hint",children:(0,p.jsxs)(r.EY,{className:"more-text",children:["+",s.images.length-3]})})]})]}):(0,p.jsx)(r.Ss,{className:"single-image-container",children:(0,p.jsx)(r._V,{className:"work-image",src:s.images[0],mode:"aspectFill",lazyLoad:!0})}),a&&(0,p.jsxs)(r.Ss,{className:"image-count-badge",children:[(0,p.jsx)(r.EY,{className:"count-icon",children:"\u25eb"}),(0,p.jsx)(r.EY,{className:"count-text",children:s.images.length})]}),e&&(0,p.jsx)(r.Ss,{className:"fav-badge",children:(0,p.jsx)(r.EY,{children:"\u2764\ufe0f"})})]}),(0,p.jsxs)(r.Ss,{className:"work-info",children:[(0,p.jsxs)(r.Ss,{className:"work-header",children:[(0,p.jsx)(r.EY,{className:"work-title",children:s.title}),(0,p.jsx)(r.Ss,{className:"like-btn ".concat(e?"liked":""),onTap:function(e){return Q(s.id,e)},children:(0,p.jsx)(r.EY,{className:"like-icon",children:e?"\u2764\ufe0f":"\ud83e\udd0d"})})]}),(0,p.jsx)(r.EY,{className:"work-desc",children:s.description}),(0,p.jsxs)(r.Ss,{className:"work-footer",children:[(0,p.jsxs)(r.EY,{className:"work-style-tag",children:["#",s.style]}),(0,p.jsxs)(r.EY,{className:"work-likes",children:["\u2764\ufe0f ",s.likes]})]})]})]},s.id)})}),(0,p.jsx)(d.A,{currentPage:"index"}),(0,p.jsx)(x,{visible:L,onClose:function(){return P(!1)}}),(0,p.jsx)(f.A,{visible:J,onClose:function(){return U(!1)},onSubmit:es})]})}var S={},w=(0,c.eU)(b,"pages/index/index",{root:{cn:[]}},S||{});b&&b.behaviors&&(w.behaviors=(w.behaviors||[]).concat(b.behaviors));Page(w)}},function(s){var e=function(e){return s(s.s=e)};s.O(0,[907,96,76],function(){return e(7956)});s.O()}]);