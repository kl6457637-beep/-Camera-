"use strict";(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[527],{7821:function(e,a,s){var n=s(8870),l=s(4467),r=s(9379),c=s(5544),i=s(758),t=s.n(i),o=s(6540),m=s(118),u=s(2375),d=s(4848),h=[{value:"unknown",label:"\u4fdd\u5bc6"},{value:"male",label:"\u7537"},{value:"female",label:"\u5973"}];function p(){var e,a=(0,o.useState)({avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=200&h=200&fit=crop&crop=face",nickname:"\u5149\u5f71\u8bd7\u4eba",username:"@light_chaser",bio:"\u7528\u955c\u5934\u8bb0\u5f55\u6bcf\u4e00\u4e2a\u52a8\u4eba\u77ac\u95f4",phone:"138****8888",gender:"unknown",birthday:"1995-06-15",location:"\u4e0a\u6d77",email:"photographer@example.com"}),s=(0,c.A)(a,2),n=s[0],p=s[1];(0,i.useDidShow)(function(){var e=t().getStorageSync("user_profile");e&&p(function(a){return(0,r.A)((0,r.A)({},a),e)})});var f=function(){t().chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){var a=e.tempFilePaths[0];p(function(e){return(0,r.A)((0,r.A)({},e),{},{avatar:a})}),(0,u.P0)("\u5934\u50cf\u9009\u62e9\u6210\u529f","success")}})},x=function(e,a){p(function(s){return(0,r.A)((0,r.A)({},s),{},(0,l.A)({},e,a))})},v=function(e){var a=e.detail.value;x("gender",h[a].value)},j=function(e){x("birthday",e.detail.value)},N=function(){n.nickname.trim()?(t().setStorageSync("user_profile",n),(0,u.P0)("\u4fdd\u5b58\u6210\u529f","success"),setTimeout(function(){t().navigateBack()},1500)):(0,u.P0)("\u8bf7\u8f93\u5165\u6635\u79f0","error")},b=function(){t().navigateBack()};return(0,d.jsxs)(m.Ss,{className:"edit-profile-page",children:[(0,d.jsxs)(m.Ss,{className:"nav-bar",children:[(0,d.jsx)(m.Ss,{className:"back-btn",onClick:b,children:(0,d.jsx)(m.EY,{className:"back-icon",children:"\u2190"})}),(0,d.jsx)(m.EY,{className:"nav-title",children:"\u7f16\u8f91\u8d44\u6599"}),(0,d.jsx)(m.Ss,{className:"save-btn",onClick:N,children:(0,d.jsx)(m.EY,{className:"save-text",children:"\u4fdd\u5b58"})})]}),(0,d.jsx)(m.Ss,{className:"avatar-section",children:(0,d.jsxs)(m.Ss,{className:"avatar-wrapper",onClick:f,children:[(0,d.jsx)(m._V,{className:"avatar",src:n.avatar,mode:"aspectFill"}),(0,d.jsx)(m.Ss,{className:"avatar-mask",children:(0,d.jsx)(m.EY,{className:"mask-text",children:"\u66f4\u6362\u5934\u50cf"})})]})}),(0,d.jsxs)(m.Ss,{className:"form-section",children:[(0,d.jsxs)(m.Ss,{className:"form-item",children:[(0,d.jsx)(m.EY,{className:"form-label",children:"\u6635\u79f0"}),(0,d.jsx)(m.pd,{className:"form-input",value:n.nickname,onInput:function(e){return x("nickname",e.detail.value)},placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0",maxlength:20})]}),(0,d.jsxs)(m.Ss,{className:"form-item",children:[(0,d.jsx)(m.EY,{className:"form-label",children:"\u7528\u6237\u540d"}),(0,d.jsx)(m.pd,{className:"form-input",value:n.username,onInput:function(e){return x("username",e.detail.value)},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",maxlength:30})]}),(0,d.jsxs)(m.Ss,{className:"form-item",children:[(0,d.jsx)(m.EY,{className:"form-label",children:"\u4e2a\u4eba\u7b80\u4ecb"}),(0,d.jsx)(m.TM,{className:"form-textarea",value:n.bio,onInput:function(e){return x("bio",e.detail.value)},placeholder:"\u4ecb\u7ecd\u4e00\u4e0b\u81ea\u5df1",maxlength:100})]}),(0,d.jsxs)(m.Ss,{className:"form-item",children:[(0,d.jsx)(m.EY,{className:"form-label",children:"\u6027\u522b"}),(0,d.jsx)(m.LC,{mode:"selector",range:h,rangeKey:"label",onChange:v,children:(0,d.jsxs)(m.Ss,{className:"picker-value",children:[(0,d.jsx)(m.EY,{children:null===(e=h.find(function(e){return e.value===n.gender}))||void 0===e?void 0:e.label}),(0,d.jsx)(m.EY,{className:"picker-arrow",children:"\u203a"})]})})]}),(0,d.jsxs)(m.Ss,{className:"form-item",children:[(0,d.jsx)(m.EY,{className:"form-label",children:"\u751f\u65e5"}),(0,d.jsx)(m.LC,{mode:"date",value:n.birthday,onChange:j,children:(0,d.jsxs)(m.Ss,{className:"picker-value",children:[(0,d.jsx)(m.EY,{children:n.birthday}),(0,d.jsx)(m.EY,{className:"picker-arrow",children:"\u203a"})]})})]}),(0,d.jsxs)(m.Ss,{className:"form-item",children:[(0,d.jsx)(m.EY,{className:"form-label",children:"\u6240\u5728\u5730"}),(0,d.jsx)(m.pd,{className:"form-input",value:n.location,onInput:function(e){return x("location",e.detail.value)},placeholder:"\u8bf7\u8f93\u5165\u6240\u5728\u5730"})]}),(0,d.jsxs)(m.Ss,{className:"form-item",children:[(0,d.jsx)(m.EY,{className:"form-label",children:"\u624b\u673a\u53f7"}),(0,d.jsx)(m.pd,{className:"form-input",value:n.phone,onInput:function(e){return x("phone",e.detail.value)},placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",type:"number",maxlength:11})]}),(0,d.jsxs)(m.Ss,{className:"form-item",children:[(0,d.jsx)(m.EY,{className:"form-label",children:"\u90ae\u7bb1"}),(0,d.jsx)(m.pd,{className:"form-input",value:n.email,onInput:function(e){return x("email",e.detail.value)},placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1"})]})]}),(0,d.jsx)(m.Ss,{className:"tips-section",children:(0,d.jsx)(m.EY,{className:"tips-text",children:"\u5b8c\u5584\u4e2a\u4eba\u8d44\u6599\u53ef\u4ee5\u8ba9\u66f4\u591a\u4eba\u4e86\u89e3\u4f60"})})]})}var f={},x=(0,n.eU)(p,"pages/profile/edit/index",{root:{cn:[]}},f||{});p&&p.behaviors&&(x.behaviors=(x.behaviors||[]).concat(p.behaviors));Page(x)}},function(e){var a=function(a){return e(e.s=a)};e.O(0,[907,96,76],function(){return a(7821)});e.O()}]);