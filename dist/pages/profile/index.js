"use strict";(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[481],{2579:function(e,s,a){var n=a(8870),t=a(1212),c=a(467),i=(a(4467),a(9379)),l=a(5544),r=a(758),o=a.n(r),d=a(6540),m=a(118),h=a(4261),u=a(2375),g=a(3651),x=a(4848),N=[{id:"default",name:"\u9ed8\u8ba4\u7c89",color:"#ff6b6b",bg:"linear-gradient(135deg, #ff6b6b 0%, #ff8e8e 100%)"},{id:"dark",name:"\u6697\u591c\u9ed1",color:"#1a1a2e",bg:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)"},{id:"fresh",name:"\u6e05\u65b0\u7eff",color:"#11998e",bg:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)"},{id:"ocean",name:"\u6d77\u6d0b\u84dd",color:"#2193b0",bg:"linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)"},{id:"purple",name:"\u68a6\u5e7b\u7d2b",color:"#667eea",bg:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}];function j(){var e=(0,h.Us)(),s=e.isPhotographerMode,a=e.togglePhotographerMode,n=(0,d.useState)("default"),r=(0,l.A)(n,2),j=r[0],f=r[1],p=(0,d.useState)({avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=200&h=200&fit=crop&crop=face",nickname:"\u5149\u5f71\u8bd7\u4eba",username:"@light_chaser",bio:"\u7528\u955c\u5934\u8bb0\u5f55\u6bcf\u4e00\u4e2a\u52a8\u4eba\u77ac\u95f4",phone:"138****8888",gender:"unknown",birthday:"1995-06-15",location:"\u4e0a\u6d77"}),S=(0,l.A)(p,2),E=S[0],v=S[1],Y=(0,d.useState)({bookingRemind:!0,systemNotify:!0,newWorkNotify:!1,messageNotify:!0,emailNotify:!1}),b=(0,l.A)(Y,2),y=b[0],k=b[1],w=(0,d.useState)({publicFavorites:!1,publicBookings:!0,allowSearch:!0,showOnlineStatus:!0}),A=(0,l.A)(w,2),_=A[0],C=A[1];(0,d.useEffect)(function(){P()},[]);var P=function(){try{var e=o().getStorageSync("app_theme")||"default";f(e);var s=o().getStorageSync("user_profile");s&&v(function(e){return(0,i.A)((0,i.A)({},e),s)});var a=o().getStorageSync("notification_settings");a&&k(a);var n=o().getStorageSync("privacy_settings");n&&C(n)}catch(e){console.error("\u52a0\u8f7d\u8bbe\u7f6e\u5931\u8d25",e)}},T=function(){o().chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){var s=e.tempFilePaths[0];v(function(e){return(0,i.A)((0,i.A)({},e),{},{avatar:s})}),o().setStorageSync("user_profile",(0,i.A)((0,i.A)({},E),{},{avatar:s})),(0,u.P0)("\u5934\u50cf\u66f4\u6362\u6210\u529f","success")}})},O=function(){o().navigateTo({url:"/pages/profile/edit/index"})},F=function(e){var s;f(e),o().setStorageSync("app_theme",e),(0,u.P0)("\u5df2\u5207\u6362\u5230".concat(null===(s=N.find(function(s){return s.id===e}))||void 0===s?void 0:s.name),"success")},M=function(){o().navigateTo({url:"/pages/profile/notifications/index",success:function(){o().setStorageSync("temp_notifications",y)}})},B=function(){o().navigateTo({url:"/pages/profile/privacy/index",success:function(){o().setStorageSync("temp_privacy",_)}})},J=function(){o().navigateTo({url:"/pages/profile/help/index"})},R=function(){var e=(0,c.A)((0,t.A)().m(function e(){var s;return(0,t.A)().w(function(e){while(1)switch(e.n){case 0:return e.n=1,(0,u.GQ)("\u9000\u51fa\u767b\u5f55","\u786e\u5b9a\u8981\u9000\u51fa\u767b\u5f55\u5417\uff1f");case 1:s=e.v,s&&(o().removeStorageSync("user_info"),(0,u.P0)("\u5df2\u9000\u51fa\u767b\u5f55","success"),setTimeout(function(){o().reLaunch({url:"/pages/index/index"})},1500));case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),U=N.find(function(e){return e.id===j})||N[0];return(0,x.jsxs)(m.Ss,{className:"profile-page",children:[(0,x.jsx)(m.Ss,{className:"profile-header",style:{background:U.bg},children:(0,x.jsxs)(m.Ss,{className:"header-content",children:[(0,x.jsxs)(m.Ss,{className:"avatar-wrapper",onClick:T,children:[(0,x.jsx)(m._V,{className:"avatar",src:E.avatar,mode:"aspectFill"}),(0,x.jsx)(m.Ss,{className:"avatar-edit",children:(0,x.jsx)(m.EY,{className:"edit-icon",children:"\ud83d\udcf7"})})]}),(0,x.jsx)(m.EY,{className:"name",children:E.nickname}),(0,x.jsx)(m.EY,{className:"username",children:E.username}),(0,x.jsxs)(m.EY,{className:"bio",children:['"',E.bio,'"']}),(0,x.jsx)(m.Ss,{className:"edit-btn",onClick:O,children:(0,x.jsx)(m.EY,{className:"edit-text",children:"\u7f16\u8f91\u8d44\u6599"})})]})}),(0,x.jsxs)(m.Ss,{className:"stats-card",children:[(0,x.jsxs)(m.Ss,{className:"stat-item",children:[(0,x.jsx)(m.EY,{className:"stat-num",children:"128"}),(0,x.jsx)(m.EY,{className:"stat-label",children:"\u4f5c\u54c1"})]}),(0,x.jsxs)(m.Ss,{className:"stat-item",children:[(0,x.jsx)(m.EY,{className:"stat-num",children:"2.3k"}),(0,x.jsx)(m.EY,{className:"stat-label",children:"\u83b7\u8d5e"})]}),(0,x.jsxs)(m.Ss,{className:"stat-item",children:[(0,x.jsx)(m.EY,{className:"stat-num",children:"56"}),(0,x.jsx)(m.EY,{className:"stat-label",children:"\u9884\u7ea6"})]}),(0,x.jsxs)(m.Ss,{className:"stat-item",children:[(0,x.jsx)(m.EY,{className:"stat-num",children:"89"}),(0,x.jsx)(m.EY,{className:"stat-label",children:"\u6536\u85cf"})]})]}),(0,x.jsxs)(m.Ss,{className:"mode-card",children:[(0,x.jsxs)(m.Ss,{className:"mode-info",children:[(0,x.jsx)(m.EY,{className:"mode-title",children:"\ud83d\udcf7 \u6444\u5f71\u5e08\u6a21\u5f0f"}),(0,x.jsx)(m.EY,{className:"mode-desc",children:s?"\u5df2\u5f00\u542f\uff0c\u53ef\u63a5\u6536\u9884\u7ea6":"\u5f00\u542f\u540e\u53ef\u63a5\u6536\u62cd\u6444\u9884\u7ea6"})]}),(0,x.jsx)(m.dO,{checked:s,onChange:a,color:U.color})]}),(0,x.jsxs)(m.Ss,{className:"settings-section",children:[(0,x.jsx)(m.EY,{className:"section-title",children:"\u4e3b\u9898\u98ce\u683c"}),(0,x.jsx)(m.BM,{scrollX:!0,className:"theme-scroll",showScrollbar:!1,children:(0,x.jsx)(m.Ss,{className:"theme-list",children:N.map(function(e){return(0,x.jsxs)(m.Ss,{className:"theme-item ".concat(j===e.id?"active":""),onClick:function(){return F(e.id)},children:[(0,x.jsx)(m.Ss,{className:"theme-preview",style:{background:e.bg}}),(0,x.jsx)(m.EY,{className:"theme-name",children:e.name}),j===e.id&&(0,x.jsx)(m.Ss,{className:"theme-check",children:"\u2713"})]},e.id)})})})]}),(0,x.jsxs)(m.Ss,{className:"settings-section",children:[(0,x.jsx)(m.EY,{className:"section-title",children:"\u8bbe\u7f6e"}),(0,x.jsxs)(m.Ss,{className:"setting-item",onClick:O,children:[(0,x.jsx)(m.EY,{className:"setting-icon",children:"\ud83d\udc64"}),(0,x.jsx)(m.EY,{className:"setting-text",children:"\u4e2a\u4eba\u8d44\u6599"}),(0,x.jsx)(m.EY,{className:"setting-arrow",children:"\u203a"})]}),(0,x.jsxs)(m.Ss,{className:"setting-item",onClick:M,children:[(0,x.jsx)(m.EY,{className:"setting-icon",children:"\ud83d\udd14"}),(0,x.jsx)(m.EY,{className:"setting-text",children:"\u6d88\u606f\u901a\u77e5"}),(0,x.jsxs)(m.Ss,{className:"setting-status",children:[y.bookingRemind&&y.messageNotify?(0,x.jsx)(m.EY,{className:"status-on",children:"\u5df2\u5f00\u542f"}):(0,x.jsx)(m.EY,{className:"status-off",children:"\u90e8\u5206\u5173\u95ed"}),(0,x.jsx)(m.EY,{className:"setting-arrow",children:"\u203a"})]})]}),(0,x.jsxs)(m.Ss,{className:"setting-item",onClick:B,children:[(0,x.jsx)(m.EY,{className:"setting-icon",children:"\ud83d\udd12"}),(0,x.jsx)(m.EY,{className:"setting-text",children:"\u9690\u79c1\u8bbe\u7f6e"}),(0,x.jsx)(m.EY,{className:"setting-arrow",children:"\u203a"})]}),(0,x.jsxs)(m.Ss,{className:"setting-item",onClick:J,children:[(0,x.jsx)(m.EY,{className:"setting-icon",children:"\u2753"}),(0,x.jsx)(m.EY,{className:"setting-text",children:"\u5e2e\u52a9\u4e2d\u5fc3"}),(0,x.jsx)(m.EY,{className:"setting-arrow",children:"\u203a"})]})]}),(0,x.jsxs)(m.Ss,{className:"settings-section",children:[(0,x.jsx)(m.EY,{className:"section-title",children:"\u5173\u4e8e"}),(0,x.jsxs)(m.Ss,{className:"setting-item",children:[(0,x.jsx)(m.EY,{className:"setting-icon",children:"\ud83d\udcf1"}),(0,x.jsx)(m.EY,{className:"setting-text",children:"\u7248\u672c\u53f7"}),(0,x.jsx)(m.EY,{className:"setting-value",children:"v1.0.0"})]}),(0,x.jsxs)(m.Ss,{className:"setting-item",onClick:function(){return(0,u.P0)("\u5df2\u662f\u6700\u65b0\u7248\u672c","success")},children:[(0,x.jsx)(m.EY,{className:"setting-icon",children:"\ud83d\udd04"}),(0,x.jsx)(m.EY,{className:"setting-text",children:"\u68c0\u67e5\u66f4\u65b0"}),(0,x.jsx)(m.EY,{className:"setting-arrow",children:"\u203a"})]})]}),(0,x.jsx)(m.Ss,{className:"logout-section",children:(0,x.jsx)(m.Ss,{className:"logout-btn",onClick:R,children:(0,x.jsx)(m.EY,{className:"logout-text",children:"\u9000\u51fa\u767b\u5f55"})})}),(0,x.jsx)(g.A,{currentPage:"profile"})]})}var f={},p=(0,n.eU)(j,"pages/profile/index",{root:{cn:[]}},f||{});j&&j.behaviors&&(p.behaviors=(p.behaviors||[]).concat(j.behaviors));Page(p)}},function(e){var s=function(s){return e(e.s=s)};e.O(0,[907,96,76],function(){return s(2579)});e.O()}]);